<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HN Instant</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.5.1/css/bulma.min.css">
  <script src="https://unpkg.com/vue"></script>
</head>

<body>
  <section class="section">
    <div id="app">
      <div class="container content">
        <div class="columns">
          <div class="column is-narrow">
            <h1 class="title">
              HN Instant
            </h1>
          </div>
          <div class="column auto">
            <input type="text" class="input is-medium" v-model="query" placeholder="Search">
          </div>
        </div>
      </div>
      <iframe style="height:80vh; width: 100%" v-bind:src="url" frameborder="0"></iframe>
    </div>
  </section>
  <script src="bower_components/axios/dist/axios.min.js"></script>
  <script>
    // use hn algolia api $.get('http://hn.algolia.com/api/v1/search') // this is the base url // vue code here
    // join the vue element with 
    var app = new Vue({
      el: '#app',
      data: {
        url: 'https://vuejs.org',
        query: ''
      },
      watch: {
        query: (val) => {
          axios.get('http://hn.algolia.com/api/v1/search', {
            params: {
              query: val
            }
          }).then(response => {
            // response has an array of results
            console.log(response.data.hits[0].url)
            this.url = response.data.hits[0].url;
          }).catch(err => {
            console.log(err)
          })
        }
      }
    });
  </script>
</body>

</html>